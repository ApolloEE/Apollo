<!DOCTYPE html>
<html>

<head>
  <title>节拍器</title>
  <style>
    .button {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <h1>节拍器</h1>

  <button class="button" onclick="startMetronome()">开始</button>
  <button class="button" onclick="stopMetronome()">停止</button>

  <script>
    var intervalId;
    var tempo = 200; // 初始节拍速度（每分钟的拍数）

    function playSound() {
      // 在这里添加播放声音的代码
      console.log("播放声音");
      // 创建音频上下文
      const audioContext = new (window.AudioContext || window.webkitAudioContext)();

      // 创建振荡器节点
      const oscillator = audioContext.createOscillator();
      oscillator.type = 'sine'; // 使用正弦波形
      oscillator.frequency.value = 500; // 设置频率，控制嘟嘟声的音调

      // 连接振荡器节点到音频上下文的目标节点
      oscillator.connect(audioContext.destination);

      // 启动振荡器
      oscillator.start();

      // 停止振荡器（在适当的时机调用）
      oscillator.stop(audioContext.currentTime + 0.1); // 停止振荡器，持续1秒钟

    }

    function startMetronome() {
        playSound();
    }
  </script>
</body>

</html>